/* empty css             */import{v as he,E as be}from"./el-divider-ecc359a5.js";import{f as we}from"./el-overlay-f72fc15d.js";import{E as Ce,a as ke}from"./el-form-item-05a4ac01.js";import{a as Be,E as xe}from"./el-input-9fa91db1.js";import"./el-icon-44e96953.js";import{E as Ee}from"./el-card-2e3e2287.js";import{l as De,aI as Ve,aJ as ge,d as fe,a4 as Te,n as Se,r as E,O as ue,c as D,A as L,w as d,Z as se,h as y,t as z,i as l,C as me,B as Ie,$,e as ae,s as ve,j as I,D as ce,U as Ne,f as m,a2 as Ae,T as Ue,v as qe,aK as Fe,G as He,aL as Le,aM as $e,aN as je,aF as te,aG as Pe,a as de,o as Ge,ay as re,E as H,a6 as Re,p as Me,k as We,_ as ze}from"./index-44b05c72.js";const Oe=["light","dark"],Ke=De({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Ve(ge),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:Oe,default:"light"}}),Ze={close:V=>V instanceof MouseEvent},Je=fe({name:"ElAlert"}),Qe=fe({...Je,props:Ke,emits:Ze,setup(V,{emit:R}){const C=V,{Close:j}=Fe,T=Te(),c=Se("alert"),S=E(!0),q=ue(()=>ge[C.type]),W=ue(()=>[c.e("icon"),{[c.is("big")]:!!C.description||!!T.default}]),s=ue(()=>({[c.is("bold")]:C.description||T.default})),F=u=>{S.value=!1,R("close",u)};return(u,_)=>(D(),L(Ue,{name:l(c).b("fade"),persisted:""},{default:d(()=>[se(y("div",{class:z([l(c).b(),l(c).m(u.type),l(c).is("center",u.center),l(c).is(u.effect)]),role:"alert"},[u.showIcon&&l(q)?(D(),L(l(me),{key:0,class:z(l(W))},{default:d(()=>[(D(),L(Ie(l(q))))]),_:1},8,["class"])):$("v-if",!0),y("div",{class:z(l(c).e("content"))},[u.title||u.$slots.title?(D(),ae("span",{key:0,class:z([l(c).e("title"),l(s)])},[ve(u.$slots,"title",{},()=>[I(ce(u.title),1)])],2)):$("v-if",!0),u.$slots.default||u.description?(D(),ae("p",{key:1,class:z(l(c).e("description"))},[ve(u.$slots,"default",{},()=>[I(ce(u.description),1)])],2)):$("v-if",!0),u.closable?(D(),ae(Ne,{key:2},[u.closeText?(D(),ae("div",{key:0,class:z([l(c).e("close-btn"),l(c).is("customed")]),onClick:F},ce(u.closeText),3)):(D(),L(l(me),{key:1,class:z(l(c).e("close-btn")),onClick:F},{default:d(()=>[m(l(j))]),_:1},8,["class"]))],64)):$("v-if",!0)],2)],2),[[Ae,S.value]])]),_:3},8,["name"]))}});var Xe=qe(Qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const Ye=He(Xe);var ye={exports:{}};(function(V,R){(function(C,j){V.exports=j(Le())})($e,function(C){return function(j){var T=C,c=T.lib,S=c.WordArray,q=c.Hasher,W=T.algo,s=[];(function(){for(var i=0;i<64;i++)s[i]=j.abs(j.sin(i+1))*4294967296|0})();var F=W.MD5=q.extend({_doReset:function(){this._hash=new S.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(i,n){for(var B=0;B<16;B++){var x=n+B,h=i[x];i[x]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}var f=this._hash.words,b=i[n+0],v=i[n+1],w=i[n+2],A=i[n+3],K=i[n+4],Z=i[n+5],N=i[n+6],M=i[n+7],J=i[n+8],P=i[n+9],G=i[n+10],Q=i[n+11],X=i[n+12],Y=i[n+13],o=i[n+14],p=i[n+15],a=f[0],t=f[1],e=f[2],r=f[3];a=u(a,t,e,r,b,7,s[0]),r=u(r,a,t,e,v,12,s[1]),e=u(e,r,a,t,w,17,s[2]),t=u(t,e,r,a,A,22,s[3]),a=u(a,t,e,r,K,7,s[4]),r=u(r,a,t,e,Z,12,s[5]),e=u(e,r,a,t,N,17,s[6]),t=u(t,e,r,a,M,22,s[7]),a=u(a,t,e,r,J,7,s[8]),r=u(r,a,t,e,P,12,s[9]),e=u(e,r,a,t,G,17,s[10]),t=u(t,e,r,a,Q,22,s[11]),a=u(a,t,e,r,X,7,s[12]),r=u(r,a,t,e,Y,12,s[13]),e=u(e,r,a,t,o,17,s[14]),t=u(t,e,r,a,p,22,s[15]),a=_(a,t,e,r,v,5,s[16]),r=_(r,a,t,e,N,9,s[17]),e=_(e,r,a,t,Q,14,s[18]),t=_(t,e,r,a,b,20,s[19]),a=_(a,t,e,r,Z,5,s[20]),r=_(r,a,t,e,G,9,s[21]),e=_(e,r,a,t,p,14,s[22]),t=_(t,e,r,a,K,20,s[23]),a=_(a,t,e,r,P,5,s[24]),r=_(r,a,t,e,o,9,s[25]),e=_(e,r,a,t,A,14,s[26]),t=_(t,e,r,a,J,20,s[27]),a=_(a,t,e,r,Y,5,s[28]),r=_(r,a,t,e,w,9,s[29]),e=_(e,r,a,t,M,14,s[30]),t=_(t,e,r,a,X,20,s[31]),a=g(a,t,e,r,Z,4,s[32]),r=g(r,a,t,e,J,11,s[33]),e=g(e,r,a,t,Q,16,s[34]),t=g(t,e,r,a,o,23,s[35]),a=g(a,t,e,r,v,4,s[36]),r=g(r,a,t,e,K,11,s[37]),e=g(e,r,a,t,M,16,s[38]),t=g(t,e,r,a,G,23,s[39]),a=g(a,t,e,r,Y,4,s[40]),r=g(r,a,t,e,b,11,s[41]),e=g(e,r,a,t,A,16,s[42]),t=g(t,e,r,a,N,23,s[43]),a=g(a,t,e,r,P,4,s[44]),r=g(r,a,t,e,X,11,s[45]),e=g(e,r,a,t,p,16,s[46]),t=g(t,e,r,a,w,23,s[47]),a=k(a,t,e,r,b,6,s[48]),r=k(r,a,t,e,M,10,s[49]),e=k(e,r,a,t,o,15,s[50]),t=k(t,e,r,a,Z,21,s[51]),a=k(a,t,e,r,X,6,s[52]),r=k(r,a,t,e,A,10,s[53]),e=k(e,r,a,t,G,15,s[54]),t=k(t,e,r,a,v,21,s[55]),a=k(a,t,e,r,J,6,s[56]),r=k(r,a,t,e,p,10,s[57]),e=k(e,r,a,t,N,15,s[58]),t=k(t,e,r,a,Y,21,s[59]),a=k(a,t,e,r,K,6,s[60]),r=k(r,a,t,e,Q,10,s[61]),e=k(e,r,a,t,w,15,s[62]),t=k(t,e,r,a,P,21,s[63]),f[0]=f[0]+a|0,f[1]=f[1]+t|0,f[2]=f[2]+e|0,f[3]=f[3]+r|0},_doFinalize:function(){var i=this._data,n=i.words,B=this._nDataBytes*8,x=i.sigBytes*8;n[x>>>5]|=128<<24-x%32;var h=j.floor(B/4294967296),f=B;n[(x+64>>>9<<4)+15]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,n[(x+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,i.sigBytes=(n.length+1)*4,this._process();for(var b=this._hash,v=b.words,w=0;w<4;w++){var A=v[w];v[w]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var i=q.clone.call(this);return i._hash=this._hash.clone(),i}});function u(i,n,B,x,h,f,b){var v=i+(n&B|~n&x)+h+b;return(v<<f|v>>>32-f)+n}function _(i,n,B,x,h,f,b){var v=i+(n&x|B&~x)+h+b;return(v<<f|v>>>32-f)+n}function g(i,n,B,x,h,f,b){var v=i+(n^B^x)+h+b;return(v<<f|v>>>32-f)+n}function k(i,n,B,x,h,f,b){var v=i+(B^(n|~x))+h+b;return(v<<f|v>>>32-f)+n}T.MD5=q._createHelper(F),T.HmacMD5=q._createHmacHelper(F)}(Math),C.MD5})})(ye);var ea=ye.exports;const aa=je(ea),ta=()=>te.get("/helper/get_status"),ra=V=>te.post("/helper/change_name",V),sa=()=>te.get("/helper/create"),la=V=>te.post("/helper/bind_email_account",V),oa=()=>te.get("/helper/unbind");let na=Pe("helper",()=>({getBot:async()=>{try{return await ta()}catch(c){return Promise.reject(c)}},botCreate:async()=>{try{return await sa()}catch(c){return Promise.reject(c)}},botCreateByEmail:async c=>{try{const S=aa(c.password).toString();return c.password=S,await la(c)}catch(S){return Promise.reject(S)}},botUnbind:async()=>{try{return await oa()}catch(c){return Promise.reject(c)}},botChangeName:async c=>{try{return await ra(c)}catch(S){return Promise.reject(S)}}}));const O=V=>(Me("data-v-7d9dc361"),V=V(),We(),V),ia=O(()=>y("div",{class:"card-header"},[y("span",{style:{"margin-right":"16px"}},"Bot 信息")],-1)),ua={style:{display:"inline-flex","align-items":"center","flex-wrap":"wrap"}},ca=O(()=>y("div",{class:"card-header"},"游客登录",-1)),da={class:"card-footer"},ma=O(()=>y("span",{style:{"margin-left":"12px",color:"dimgray"}},"新建一个游客账号作为Bot",-1)),fa=O(()=>y("div",{class:"card-header"},"邮箱登录",-1)),pa={class:"card-footer"},_a=O(()=>y("span",{style:{"margin-left":"12px",color:"dimgray"}},"使用您提供的邮箱账号作为Bot",-1)),va=O(()=>y("div",{class:"card-header"},"更改游戏昵称",-1)),ga={class:"card-footer"},ya=O(()=>y("span",{style:{"margin-left":"12px",color:"dimgray"}},"更改机器人的游戏昵称",-1)),ha={class:"dialog-footer"},ba={class:"dialog-footer"},wa=fe({__name:"index",setup(V){let R=na(),C=de({set:!0,realname_url:"",username:""}),j=o=>{C.set=o.set,C.realname_url=o.realname_url,C.username=o.username},T=E(!1),c=E(!1),S=E(!1),q=E("warning"),W=E("查询中"),s=()=>{window.open(C.realname_url,"_blank")},F=async()=>{try{T.value=!0,c.value=!0;let o=await R.getBot();o.success?(j(o),o.username?(q.value="success",W.value=o.username):(q.value="warning",W.value=o.message),S.value==!1&&(S.value=!0),B()):H({type:"error",message:o.message,duration:3e3})}catch(o){H({type:"error",message:o.message,duration:3e3})}finally{T.value=!1,c.value=!1}};Ge(()=>{F()});let u=E(!1),_=E("success"),g=E(""),k=async()=>{try{u.value=!0;let o=await R.botCreate();o.success?(o.need_verify?_.value="warning":_.value="success",g.value=o.message):H({type:"error",message:o.message,duration:3e3})}catch(o){H({type:"error",message:o.message,duration:3e3})}finally{u.value=!1,F()}},i=E(null),n=de({username:"",password:""}),B=()=>{n.username="",n.password="";try{setTimeout(()=>{i.value&&i.value.clearValidate(["username","password"])},200)}catch(o){console.log(o)}};const h={username:[{required:!0,message:"账号不能为空",trigger:"blur"},{validator:(o,p,a)=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)?a():a(new Error("邮箱格式不正确"))},trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]};let f=E("warning"),b=E(""),v=async()=>{i.value&&await i.value.validate();try{u.value=!0;let o={username:"",password:""};o.username=n.username,o.password=n.password;let p=await R.botCreateByEmail(o);p.success?(p.need_verify?f.value="warning":f.value="success",b.value=p.message):H({type:"error",message:p.message,duration:3e3})}catch(o){H({type:"error",message:o.message,duration:3e3})}finally{u.value=!1,F()}},w=E(!1),A=E(!1),K=()=>{w.value=!0},Z=async()=>{try{A.value=!0;let o=await R.botUnbind();o.success?H({type:"success",message:o.message,duration:3e3}):H({type:"error",message:o.message,duration:3e3})}catch(o){H({type:"error",message:o.message,duration:3e3})}finally{A.value=!1,w.value=!1,F()}},N=E(!1),M=E(!1),J=()=>{N.value=!0},P=E(null),G=de({username:""}),Q=()=>{G.username="";try{setTimeout(()=>{P.value&&P.value.clearValidate(["username"])},200)}catch(o){console.log(o)}};const X={username:[{required:!0,message:"新昵称不能为空",trigger:"blur"}]};let Y=async()=>{P.value&&await P.value.validate();try{M.value=!0;let o={username:""};o.username=G.username;let p=await R.botChangeName(o);p.success?(H({type:"success",message:p.message,duration:3e3}),Q()):H({type:"error",message:p.message,duration:3e3})}catch(o){H({type:"error",message:o.message,duration:3e3})}finally{M.value=!1,N.value=!1,F()}};return(o,p)=>{const a=Ye,t=be,e=Be,r=Ee,le=Re("ChatDotRound"),oe=me,ne=xe,ee=Ce,pe=ke,_e=we,ie=he;return D(),ae("div",null,[m(r,{shadow:"hover"},{header:d(()=>[ia]),default:d(()=>[y("div",null,[m(a,{title:l(W),type:l(q),"show-icon":"",closable:!1},null,8,["title","type"]),m(t),y("div",ua,[m(e,{onClick:l(F),type:"primary",round:"",loading:l(T)},{default:d(()=>[I("刷新")]),_:1},8,["onClick","loading"]),l(C).realname_url?(D(),L(e,{key:0,onClick:l(s),type:"warning",round:""},{default:d(()=>[I("实名")]),_:1},8,["onClick"])):$("",!0),l(S)&&l(C).set?(D(),L(e,{key:1,disabled:l(c),onClick:l(K),type:"danger",round:""},{default:d(()=>[I("解绑")]),_:1},8,["disabled","onClick"])):$("",!0)])])]),_:1}),l(C).set==!1?se((D(),L(r,{key:0,style:{"margin-top":"12px"},shadow:"hover"},{header:d(()=>[ca]),default:d(()=>[y("div",null,[y("div",da,[m(oe,null,{default:d(()=>[m(le)]),_:1}),ma]),m(t),l(g)?(D(),L(a,{key:0,style:{"margin-bottom":"16px"},title:l(g),type:l(_),"show-icon":"",closable:!1},null,8,["title","type"])):$("",!0),m(e,{type:"primary",round:"",onClick:l(k)},{default:d(()=>[I("创建")]),_:1},8,["onClick"])])]),_:1})),[[ie,l(u)||l(T)]]):$("",!0),l(C).set==!1?se((D(),L(r,{key:1,shadow:"hover",style:{"margin-top":"12px"}},{header:d(()=>[fa]),default:d(()=>[y("div",null,[y("div",pa,[m(oe,null,{default:d(()=>[m(le)]),_:1}),_a]),m(t),l(b)?(D(),L(a,{key:0,style:{"margin-bottom":"16px"},title:l(b),type:l(f),"show-icon":"",closable:!1},null,8,["title","type"])):$("",!0),m(pe,{class:"email-form-container",model:l(n),rules:h,ref_key:"emailform",ref:i},{default:d(()=>[m(ee,{label:"账号",prop:"username"},{default:d(()=>[m(ne,{modelValue:l(n).username,"onUpdate:modelValue":p[0]||(p[0]=U=>l(n).username=U),placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),m(ee,{label:"密码",prop:"password"},{default:d(()=>[m(ne,{type:"password","show-password":"",modelValue:l(n).password,"onUpdate:modelValue":p[1]||(p[1]=U=>l(n).password=U),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),m(ee,{style:{"margin-bottom":"0"}},{default:d(()=>[m(e,{type:"primary",onClick:l(v)},{default:d(()=>[I("创建")]),_:1},8,["onClick"]),m(e,{onClick:l(B)},{default:d(()=>[I("清空表单")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])]),_:1})),[[ie,l(u)||l(T)]]):$("",!0),l(C).username?se((D(),L(r,{key:2,shadow:"hover",style:{"margin-top":"12px"}},{header:d(()=>[va]),default:d(()=>[y("div",null,[y("div",ga,[m(oe,null,{default:d(()=>[m(le)]),_:1}),ya]),m(t),m(pe,{class:"botname-form-container",model:l(G),rules:X,ref_key:"botnameform",ref:P},{default:d(()=>[m(ee,{label:"新昵称",prop:"username"},{default:d(()=>[m(ne,{modelValue:l(G).username,"onUpdate:modelValue":p[2]||(p[2]=U=>l(G).username=U),placeholder:"请输入新昵称"},null,8,["modelValue"])]),_:1}),m(ee,{style:{"margin-bottom":"0"}},{default:d(()=>[m(e,{type:"primary",onClick:l(J)},{default:d(()=>[I("更改")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])]),_:1})),[[ie,l(T)]]):$("",!0),m(_e,{width:"300px",modelValue:l(w),"onUpdate:modelValue":p[4]||(p[4]=U=>re(w)?w.value=U:w=U),title:"解绑","align-center":""},{footer:d(()=>[y("span",ha,[m(e,{onClick:p[3]||(p[3]=U=>re(w)?w.value=!1:w=!1)},{default:d(()=>[I("取消")]),_:1}),m(e,{loading:l(A),type:"primary",onClick:l(Z)},{default:d(()=>[I("确定")]),_:1},8,["loading","onClick"])])]),default:d(()=>[I(" 确定解绑Bot吗？当前保存的游戏账号信息将会被彻底清空。 ")]),_:1},8,["modelValue"]),m(_e,{width:"300px",modelValue:l(N),"onUpdate:modelValue":p[6]||(p[6]=U=>re(N)?N.value=U:N=U),title:"更改游戏昵称","align-center":""},{footer:d(()=>[y("span",ba,[m(e,{onClick:p[5]||(p[5]=U=>re(N)?N.value=!1:N=!1)},{default:d(()=>[I("取消")]),_:1}),m(e,{loading:l(M),type:"primary",onClick:l(Y)},{default:d(()=>[I("确定")]),_:1},8,["loading","onClick"])])]),default:d(()=>[I(" 确定更改Bot游戏昵称吗？更改成功后会进入30天冷却期。 ")]),_:1},8,["modelValue"])])}}});const Sa=ze(wa,[["__scopeId","data-v-7d9dc361"]]);export{Sa as default};
