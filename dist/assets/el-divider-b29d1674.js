import{l as V,x as I,d as A,n as h,O as z,c as k,e as L,t as _,i as f,s as O,$ as D,N as R,v as j,G as Z,r as B,a as q,bp as K,z as Y,al as m,w as F,Z as G,f as H,a2 as M,T as Q,ai as b,K as J,Y as E,Q as N,ba as U,bm as g,ah as w,ao as P,ay as W,bq as X}from"./index-1fb0ff9b.js";const ee=V({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:I(String),default:"solid"}}),te=A({name:"ElDivider"}),se=A({...te,props:ee,setup(t){const e=t,s=h("divider"),n=z(()=>s.cssVar({"border-style":e.borderStyle}));return(l,a)=>(k(),L("div",{class:_([f(s).b(),f(s).m(l.direction)]),style:R(f(n)),role:"separator"},[l.$slots.default&&l.direction!=="vertical"?(k(),L("div",{key:0,class:_([f(s).e("text"),f(s).is(l.contentPosition)])},[O(l.$slots,"default")],2)):D("v-if",!0)],6))}});var le=j(se,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const de=Z(le);function ne(t){let e;const s=h("loading"),n=B(!1),l=q({...t,originalPosition:"",originalOverflow:"",visible:!1});function a(o){l.text=o}function c(){const o=l.parent;if(!o.vLoadingAddClassList){let d=o.getAttribute("loading-number");d=Number.parseInt(d)-1,d?o.setAttribute("loading-number",d.toString()):(b(o,s.bm("parent","relative")),o.removeAttribute("loading-number")),b(o,s.bm("parent","hidden"))}u(),v.unmount()}function u(){var o,d;(d=(o=r.$el)==null?void 0:o.parentNode)==null||d.removeChild(r.$el)}function y(){var o;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(i,400),l.visible=!1,(o=t.closed)==null||o.call(t))}function i(){if(!n.value)return;const o=l.parent;n.value=!1,o.vLoadingAddClassList=void 0,c()}const v=K({name:"ElLoading",setup(){return()=>{const o=l.spinner||l.svg,d=m("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...o?{innerHTML:o}:{}},[m("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),T=l.text?m("p",{class:s.b("text")},[l.text]):void 0;return m(Q,{name:s.b("fade"),onAfterLeave:i},{default:F(()=>[G(H("div",{style:{backgroundColor:l.background||""},class:[s.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[m("div",{class:s.b("spinner")},[d,T])]),[[M,l.visible]])])})}}}),r=v.mount(document.createElement("div"));return{...Y(l),setText:a,removeElLoadingChild:u,close:y,handleAfterLeave:i,vm:r,get $el(){return r.$el}}}let p;const oe=function(t={}){if(!J)return;const e=ae(t);if(e.fullscreen&&p)return p;const s=ne({...e,closed:()=>{var l;(l=e.closed)==null||l.call(e),e.fullscreen&&(p=void 0)}});re(e,e.parent,s),S(e,e.parent,s),e.parent.vLoadingAddClassList=()=>S(e,e.parent,s);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(s.$el),E(()=>s.visible.value=e.visible),e.fullscreen&&(p=s),s},ae=t=>{var e,s,n,l;let a;return N(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((s=t.fullscreen)!=null?s:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(l=t.visible)!=null?l:!0,target:a}},re=async(t,e,s)=>{const{nextZIndex:n}=U(),l={};if(t.fullscreen)s.originalPosition.value=g(document.body,"position"),s.originalOverflow.value=g(document.body,"overflow"),l.zIndex=n();else if(t.parent===document.body){s.originalPosition.value=g(document.body,"position"),await E();for(const a of["top","left"]){const c=a==="top"?"scrollTop":"scrollLeft";l[a]=`${t.target.getBoundingClientRect()[a]+document.body[c]+document.documentElement[c]-Number.parseInt(g(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])l[a]=`${t.target.getBoundingClientRect()[a]}px`}else s.originalPosition.value=g(e,"position");for(const[a,c]of Object.entries(l))s.$el.style[a]=c},S=(t,e,s)=>{const n=h("loading");["absolute","fixed","sticky"].includes(s.originalPosition.value)?b(e,n.bm("parent","relative")):w(e,n.bm("parent","relative")),t.fullscreen&&t.lock?w(e,n.bm("parent","hidden")):b(e,n.bm("parent","hidden"))},C=Symbol("ElLoading"),$=(t,e)=>{var s,n,l,a;const c=e.instance,u=r=>P(e.value)?e.value[r]:void 0,y=r=>{const o=N(r)&&(c==null?void 0:c[r])||r;return o&&B(o)},i=r=>y(u(r)||t.getAttribute(`element-loading-${X(r)}`)),x=(s=u("fullscreen"))!=null?s:e.modifiers.fullscreen,v={text:i("text"),svg:i("svg"),svgViewBox:i("svgViewBox"),spinner:i("spinner"),background:i("background"),customClass:i("customClass"),fullscreen:x,target:(n=u("target"))!=null?n:x?void 0:t,body:(l=u("body"))!=null?l:e.modifiers.body,lock:(a=u("lock"))!=null?a:e.modifiers.lock};t[C]={options:v,instance:oe(v)}},ie=(t,e)=>{for(const s of Object.keys(e))W(e[s])&&(e[s].value=t[s])},ue={mounted(t,e){e.value&&$(t,e)},updated(t,e){const s=t[C];e.oldValue!==e.value&&(e.value&&!e.oldValue?$(t,e):e.value&&e.oldValue?P(e.value)&&ie(e.value,s.options):s==null||s.instance.close())},unmounted(t){var e;(e=t[C])==null||e.instance.close()}};export{de as E,ue as v};
